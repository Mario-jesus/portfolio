<div class="min-h-screen bg-white dark:bg-slate-900 transition-colors duration-300 py-20">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Header Section -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-emerald-500 via-blue-500 to-purple-500 rounded-2xl mb-6 shadow-lg header-icon">
        <fa-icon [icon]="faGraduationCap" class="text-3xl text-white"></fa-icon>
      </div>
      
      <h1 class="text-5xl font-black text-slate-800 dark:text-white mb-4">
        Contacto <span class="bg-gradient-to-r from-emerald-500 to-blue-500 bg-clip-text text-transparent gradient-text">Académico</span>
      </h1>
      
      <p class="text-xl text-slate-600 dark:text-slate-300 max-w-3xl mx-auto leading-relaxed">
        ¿Tienes una propuesta de residencia profesional? ¿Quieres colaborar en un proyecto académico? 
        Como estudiante de {{ getCurrentSemester() }} semestre, estoy disponible para oportunidades de residencia.
      </p>
    </div>

    <!-- Academic Status Banner -->
    <div class="bg-gradient-to-r from-blue-50 to-emerald-50 dark:from-blue-900/20 dark:to-emerald-900/20 rounded-2xl p-6 mb-12 border border-blue-200 dark:border-blue-800 academic-status-banner">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-4">
          <div class="w-12 h-12 bg-emerald-500 rounded-xl flex items-center justify-center">
            <fa-icon [icon]="faGraduationCap" class="text-xl text-white"></fa-icon>
          </div>
          <div>
            <h3 class="text-lg font-bold text-slate-800 dark:text-white">{{ getAvailabilityStatus() }}</h3>
            <p class="text-blue-600 dark:text-blue-400">{{ getCareerName() }} - {{ getCurrentSemester() }} Semestre</p>
          </div>
        </div>
        <div class="text-right">
          <p class="text-sm text-slate-600 dark:text-slate-300">Graduación esperada</p>
          <p class="font-semibold text-slate-800 dark:text-white">{{ getExpectedGraduationDate() }}</p>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
      
      <!-- Contact Form -->
      <div class="order-2 lg:order-1 contact-form">
        <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-8">
          
          <!-- Success Message -->
          <div *ngIf="isSubmitted()" class="mb-8 p-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl success-message">
            <div class="flex items-center">
              <svg class="w-6 h-6 text-green-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <h3 class="text-lg font-semibold text-green-800 dark:text-green-200">¡Mensaje enviado!</h3>
                <p class="text-green-700 dark:text-green-300">Gracias por contactarme. Te responderé en {{ getResponseTime() }}.</p>
              </div>
            </div>
            <button 
              (click)="resetForm()"
              class="mt-4 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200 font-medium transition-colors duration-200"
            >
              Enviar otro mensaje
            </button>
          </div>

          <!-- Error Message -->
          <div *ngIf="submitError()" class="mb-8 p-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl error-message">
            <div class="flex items-center">
              <svg class="w-6 h-6 text-red-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <h3 class="text-lg font-semibold text-red-800 dark:text-red-200">Error</h3>
                <p class="text-red-700 dark:text-red-300">{{ submitError() }}</p>
              </div>
            </div>
          </div>

          <!-- Form -->
          <form *ngIf="!isSubmitted()" [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">
            
            <!-- Message Type Field -->
            <div>
              <label for="messageType" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                Tipo de Consulta *
              </label>
              <select
                id="messageType"
                formControlName="messageType"
                [class]="isFieldInvalid('messageType') 
                  ? 'border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500' 
                  : 'border-gray-300 dark:border-slate-600 focus:ring-emerald-500 focus:border-emerald-500'"
                class="block w-full px-4 py-3 rounded-xl border bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 transition-colors duration-200"
              >
                <option [value]="MessageType.RESIDENCY_PROPOSAL">{{ getMessageTypeLabel(MessageType.RESIDENCY_PROPOSAL) }}</option>
                <option [value]="MessageType.PROJECT_COLLABORATION">{{ getMessageTypeLabel(MessageType.PROJECT_COLLABORATION) }}</option>
                <option [value]="MessageType.ACADEMIC_INQUIRY">{{ getMessageTypeLabel(MessageType.ACADEMIC_INQUIRY) }}</option>
                <option [value]="MessageType.NETWORKING">{{ getMessageTypeLabel(MessageType.NETWORKING) }}</option>
                <option [value]="MessageType.GENERAL_INQUIRY">{{ getMessageTypeLabel(MessageType.GENERAL_INQUIRY) }}</option>
                <option [value]="MessageType.OTHER">{{ getMessageTypeLabel(MessageType.OTHER) }}</option>
              </select>
              <p *ngIf="getFieldError('messageType')" class="mt-2 text-sm text-red-600 dark:text-red-400">
                {{ getFieldError('messageType') }}
              </p>
            </div>

            <!-- Name and Email Row -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Name Field -->
              <div>
                <label for="name" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                  Nombre Completo *
                </label>
                <input
                  type="text"
                  id="name"
                  formControlName="name"
                  [class]="isFieldInvalid('name') 
                    ? 'border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500' 
                    : 'border-gray-300 dark:border-slate-600 focus:ring-emerald-500 focus:border-emerald-500'"
                  class="block w-full px-4 py-3 rounded-xl border bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 transition-colors duration-200"
                  placeholder="Tu nombre completo"
                />
                <p *ngIf="getFieldError('name')" class="mt-2 text-sm text-red-600 dark:text-red-400">
                  {{ getFieldError('name') }}
                </p>
              </div>

              <!-- Email Field -->
              <div>
                <label for="email" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                  Email Corporativo *
                </label>
                <input
                  type="email"
                  id="email"
                  formControlName="email"
                  [class]="isFieldInvalid('email') 
                    ? 'border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500' 
                    : 'border-gray-300 dark:border-slate-600 focus:ring-emerald-500 focus:border-emerald-500'"
                  class="block w-full px-4 py-3 rounded-xl border bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 transition-colors duration-200"
                  placeholder="tu@empresa.com"
                />
                <p *ngIf="getFieldError('email')" class="mt-2 text-sm text-red-600 dark:text-red-400">
                  {{ getFieldError('email') }}
                </p>
              </div>
            </div>

            <!-- Company and Position Row -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Company Field -->
              <div>
                <label for="company" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                  Empresa / Organización
                </label>
                <input
                  type="text"
                  id="company"
                  formControlName="company"
                  class="block w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors duration-200"
                  placeholder="Nombre de tu empresa"
                />
              </div>

              <!-- Position Field -->
              <div>
                <label for="position" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                  Cargo / Posición
                </label>
                <input
                  type="text"
                  id="position"
                  formControlName="position"
                  class="block w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors duration-200"
                  placeholder="Tu cargo en la empresa"
                />
              </div>
            </div>

            <!-- Phone Field -->
            <div>
              <label for="phoneNumber" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                Teléfono de Contacto
              </label>
              <input
                type="tel"
                id="phoneNumber"
                formControlName="phoneNumber"
                class="block w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors duration-200"
                placeholder="+52 55 1234 5678"
              />
            </div>

            <!-- Subject Field -->
            <div>
              <label for="subject" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                Asunto *
              </label>
              <input
                type="text"
                id="subject"
                formControlName="subject"
                [class]="isFieldInvalid('subject') 
                  ? 'border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500' 
                  : 'border-gray-300 dark:border-slate-600 focus:ring-emerald-500 focus:border-emerald-500'"
                class="block w-full px-4 py-3 rounded-xl border bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 transition-colors duration-200"
                placeholder="Propuesta de residencia profesional en..."
              />
              <p *ngIf="getFieldError('subject')" class="mt-2 text-sm text-red-600 dark:text-red-400">
                {{ getFieldError('subject') }}
              </p>
            </div>

            <!-- Message Field -->
            <div>
              <label for="message" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">
                Mensaje *
              </label>
              <textarea
                id="message"
                formControlName="message"
                rows="6"
                [class]="isFieldInvalid('message') 
                  ? 'border-red-300 dark:border-red-600 focus:ring-red-500 focus:border-red-500' 
                  : 'border-gray-300 dark:border-slate-600 focus:ring-emerald-500 focus:border-emerald-500'"
                class="block w-full px-4 py-3 rounded-xl border bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 transition-colors duration-200 resize-none"
                placeholder="Describe tu propuesta de residencia: proyecto, duración, objetivos, tecnologías, beneficios para el estudiante..."
              ></textarea>
              <p *ngIf="getFieldError('message')" class="mt-2 text-sm text-red-600 dark:text-red-400">
                {{ getFieldError('message') }}
              </p>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              [disabled]="isSubmitting()"
              class="w-full flex items-center justify-center px-8 py-4 border border-transparent text-base font-medium rounded-xl text-white bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl"
            >
              <svg *ngIf="isSubmitting()" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              {{ isSubmitting() ? 'Enviando...' : 'Enviar Propuesta' }}
            </button>
          </form>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="order-1 lg:order-2 contact-info">
        <div class="space-y-8">
          
          <!-- Academic Info Card -->
          <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-8 contact-info-card">
            <h2 class="text-2xl font-bold text-slate-800 dark:text-white mb-6">Información Académica</h2>
            
            <div class="space-y-6">
              <!-- University Info -->
              <div class="flex items-start space-x-4">
                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
                  <fa-icon [icon]="faUniversity" class="text-lg text-blue-600 dark:text-blue-400"></fa-icon>
                </div>
                <div>
                  <h3 class="font-semibold text-slate-800 dark:text-white">Universidad</h3>
                  <p class="text-slate-600 dark:text-slate-300">{{ getUniversityName() }}</p>
                  <p class="text-sm text-blue-600 dark:text-blue-400">{{ getCareerName() }}</p>
                </div>
              </div>

              <!-- Academic Status -->
              <div class="flex items-start space-x-4">
                <div class="w-10 h-10 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
                  <fa-icon [icon]="faUser" class="text-lg text-emerald-600 dark:text-emerald-400"></fa-icon>
                </div>
                <div>
                  <h3 class="font-semibold text-slate-800 dark:text-white">Estado Académico</h3>
                  <p class="text-slate-600 dark:text-slate-300">{{ getCurrentSemester() }} Semestre</p>
                  <p class="text-sm text-emerald-600 dark:text-emerald-400">{{ getAvailabilityStatus() }}</p>
                </div>
              </div>

              <!-- Contact Methods -->
              <div class="flex items-start space-x-4">
                <div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
                  <fa-icon [icon]="faEnvelope" class="text-lg text-purple-600 dark:text-purple-400"></fa-icon>
                </div>
                <div>
                  <h3 class="font-semibold text-slate-800 dark:text-white">Email Académico</h3>
                  <a href="mailto:{{ getAcademicEmail() }}" class="text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 transition-colors duration-200">
                    {{ getAcademicEmail() }}
                  </a>
                  <p class="text-sm text-slate-500 dark:text-slate-400">Respuesta en {{ getResponseTime() }}</p>
                </div>
              </div>

              <!-- Phone -->
              <div class="flex items-start space-x-4">
                <div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
                  <fa-icon [icon]="faPhone" class="text-lg text-orange-600 dark:text-orange-400"></fa-icon>
                </div>
                <div>
                  <h3 class="font-semibold text-slate-800 dark:text-white">Teléfono</h3>
                  <a href="tel:{{ getPhoneNumber() }}" class="text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-300 transition-colors duration-200">
                    {{ getPhoneNumber() }}
                  </a>
                  <p class="text-sm text-slate-500 dark:text-slate-400">WhatsApp disponible</p>
                </div>
              </div>

              <!-- Location -->
              <div class="flex items-start space-x-4">
                <div class="w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center flex-shrink-0">
                  <fa-icon [icon]="faMapMarkerAlt" class="text-lg text-red-600 dark:text-red-400"></fa-icon>
                </div>
                <div>
                  <h3 class="font-semibold text-slate-800 dark:text-white">Ubicación</h3>
                  <p class="text-slate-600 dark:text-slate-300">{{ getLocation() }}</p>
                  <p class="text-sm text-slate-500 dark:text-slate-400">Disponible para residencia remota/presencial</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Residency Areas Card -->
          <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-8">
            <h2 class="text-2xl font-bold text-slate-800 dark:text-white mb-6">Áreas de Interés para Residencia</h2>
            
                         <div class="grid grid-cols-1 gap-3">
               <div *ngFor="let area of getResidencyAreas()" class="flex items-center space-x-3 p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg residency-area-item">
                 <div class="w-2 h-2 bg-emerald-500 rounded-full"></div>
                 <span class="text-slate-700 dark:text-slate-300">{{ area }}</span>
               </div>
             </div>

            <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
              <h4 class="font-semibold text-blue-800 dark:text-blue-200 mb-2">Duración Preferida</h4>
              <p class="text-blue-700 dark:text-blue-300">{{ getResidencyDuration() }}</p>
            </div>
          </div>

          <!-- Academic Achievements Card -->
          <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-8">
            <h2 class="text-2xl font-bold text-slate-800 dark:text-white mb-6">Logros Académicos</h2>
            
                         <div class="space-y-3">
               <div *ngFor="let achievement of getAcademicAchievements()" class="flex items-start space-x-3 achievement-item">
                 <fa-icon [icon]="faAward" class="text-lg text-yellow-500 mt-0.5 flex-shrink-0"></fa-icon>
                 <span class="text-slate-600 dark:text-slate-300">{{ achievement }}</span>
               </div>
             </div>
          </div>

          <!-- Social Links -->
                                <div *ngIf="profile()?.contactInfo?.socialLinks" class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-8">
             <h2 class="text-2xl font-bold text-slate-800 dark:text-white mb-6">Enlaces Académicos</h2>
             
             <div class="grid grid-cols-2 gap-4">
               <button
                 *ngFor="let link of profile()?.contactInfo?.socialLinks"
                 (click)="openSocialLink(link.url)"
                 class="flex items-center space-x-3 p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors duration-200 text-left academic-link"
               >
                 <fa-icon [icon]="getSocialIcon(link.platform)" class="text-2xl text-slate-600 dark:text-slate-400"></fa-icon>
                 <div>
                   <p class="font-medium text-slate-800 dark:text-white">{{ link.platform }}</p>
                   <p class="text-sm text-slate-500 dark:text-slate-400">{{ link.username }}</p>
                 </div>
               </button>
             </div>
           </div>
        </div>
      </div>
    </div>
  </div>
</div> 